diff -x Makefile.in -Nur jasper-1.701.0.old/configure.ac jasper-1.701.0/configure.ac
--- jasper-1.701.0.old/configure.ac	2004-02-09 02:41:29.000000000 +0100
+++ jasper-1.701.0/configure.ac	2004-08-31 21:48:21.000000000 +0200
@@ -243,8 +243,10 @@
 if test $ENABLE_OPENGL = yes; then
 	if test $HAVE_OPENGL = no; then
 		TMPLIBS="-lglut -lGL -lGLU $X_PRE_LIBS -lX11 -lXmu -lXi -lXext -lXt $X_EXTRA_LIBS $X_LIBS"
+		AC_LANG_PUSH([C++])
 		AC_CHECK_LIB(glut, glutInit, [HAVE_OPENGL=yes;
 		  OPENGL_LIBS=$TMPLIBS], HAVE_OPENGL=no, $TMPLIBS)
+		AC_LANG_POP([C++])
 	fi
 	AC_CHECK_HEADER(GL/glut.h,, [HAVE_OPENGL=no; OPENGL_LIBS="";])
 fi
diff -x Makefile.in -Nur jasper-1.701.0.old/src/appl/Makefile.am jasper-1.701.0/src/appl/Makefile.am
--- jasper-1.701.0.old/src/appl/Makefile.am	2004-02-09 02:34:41.000000000 +0100
+++ jasper-1.701.0/src/appl/Makefile.am	2004-08-31 21:55:47.000000000 +0200
@@ -71,7 +71,7 @@
 imgcmp_SOURCES = imgcmp.c
 imginfo_SOURCES = imginfo.c
 dummy_SOURCES = dummy.c
-jiv_SOURCES = jiv.c
+jiv_SOURCES = jiv.c empty.cc
 
 INCLUDES = -I$(top_srcdir)/src/libjasper/include
 
diff -x Makefile.in -Nur jasper-1.701.0.old/src/appl/empty.cc jasper-1.701.0/src/appl/empty.cc
--- jasper-1.701.0.old/src/appl/empty.cc	1970-01-01 01:00:00.000000000 +0100
+++ jasper-1.701.0/src/appl/empty.cc	2004-08-31 21:55:54.000000000 +0200
@@ -0,0 +1 @@
+
