diff -Nur at-3.1.8.old/Makefile.in at-3.1.8/Makefile.in
--- at-3.1.8.old/Makefile.in	2002-01-18 07:55:33.000000000 +0100
+++ at-3.1.8/Makefile.in	2004-09-01 16:30:39.000000000 +0200
@@ -44,9 +44,9 @@
 CLONES		= atq atrm 
 ATOBJECTS	= at.o panic.o perm.o y.tab.o lex.yy.o
 RUNOBJECTS	= atd.o daemon.o $(LIBOBJS)
-CSRCS   	= at.c atd.c panic.c perm.c daemon.c getloadavg.c \
+CSRCS   	= at.c atd.c panic.c perm.c daemon.c \
 			y.tab.c y.tab.h lex.yy.c
-HEADERS 	= at.h panic.h parsetime.h perm.h daemon.h getloadavg.h\
+HEADERS 	= at.h panic.h parsetime.h perm.h daemon.h \
 			privs.h
 
 OTHERS		= parsetime.l parsetime.y
@@ -155,9 +155,8 @@
 	gcc $(CFLAGS) $(DEFS) -MM $(CSRCS) > .depend
 
 at.o: at.c config.h at.h panic.h parsetime.h perm.h privs.h
-atd.o: atd.c config.h privs.h daemon.h getloadavg.h
+atd.o: atd.c config.h privs.h daemon.h
 panic.o: panic.c config.h panic.h at.h
 parsetime.o: parsetime.c config.h at.h panic.h
 perm.o: perm.c config.h privs.h at.h
 daemon.o: daemon.c config.h daemon.h privs.h
-getloadavg.o: getloadavg.c config.h getloadavg.h
diff -Nur at-3.1.8.old/at.1.in at-3.1.8/at.1.in
--- at-3.1.8.old/at.1.in	2002-01-18 08:44:26.000000000 +0100
+++ at-3.1.8/at.1.in	2004-09-01 16:32:03.000000000 +0200
@@ -254,13 +254,6 @@
 .BR umask (2),
 .BR atd (8).
 .SH BUGS
-The correct operation of
-.B batch
-for Linux depends on the presence of a
-.IR proc -
-type directory mounted on
-.IR /proc .
-.PP
 If the file
 .I /var/run/utmp
 is not available or corrupted, or if the user is not logged on at the
diff -Nur at-3.1.8.old/getloadavg.c at-3.1.8/getloadavg.c
--- at-3.1.8.old/getloadavg.c	1997-09-28 22:00:37.000000000 +0200
+++ at-3.1.8/getloadavg.c	1970-01-01 01:00:00.000000000 +0100
@@ -1,66 +0,0 @@
-/* 
- *  gloadavg.c - get load average for Linux
- *  Copyright (C) 1993  Thomas Koenig
- *
- *  This program is free software; you can redistribute it and/or modify
- *  it under the terms of the GNU General Public License as published by
- *  the Free Software Foundation; either version 2 of the License, or
- *  (at your option) any later version.
- *
- *  This program is distributed in the hope that it will be useful,
- *  but WITHOUT ANY WARRANTY; without even the implied warranty of
- *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- *  GNU General Public License for more details.
- *
- *  You should have received a copy of the GNU General Public License
- *  along with this program; if not, write to the Free Software
- *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
- */
-
-#ifdef HAVE_CONFIG_H
-#include "config.h"
-#endif
-
-#define _POSIX_SOURCE 1
-
-/* System Headers */
-
-#include <stdio.h>
-
-/* Local headers */
-
-#include "getloadavg.h"
-
-/* File scope variables */
-
-static char rcsid[] = "$Id: getloadavg.c,v 1.4 1997/03/12 19:36:06 ig25 Exp $";
-
-#define PROC_DIR "/proc"
-
-/* Global functions */
-
-int
-getloadavg(double *result, int n)
-/* return the current load average as a floating point number, or <0 for
- * error
- */
-{
-    FILE *fp;
-    int i;
-
-    if (n > 3)
-	n = 3;
-
-    if ((fp = fopen(PROC_DIR "/loadavg", "r")) == NULL)
-	i = -1;
-    else {
-	for (i = 0; i < n; i++) {
-	    if (fscanf(fp, "%lf", result) != 1)
-		goto end;
-	    result++;
-	}
-    }
-  end:
-    fclose(fp);
-    return i;
-}
diff -Nur at-3.1.8.old/getloadavg.h at-3.1.8/getloadavg.h
--- at-3.1.8.old/getloadavg.h	1997-02-23 21:24:35.000000000 +0100
+++ at-3.1.8/getloadavg.h	1970-01-01 01:00:00.000000000 +0100
@@ -1 +0,0 @@
-int getloadavg(double *result, int n);
