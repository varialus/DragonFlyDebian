---
 lib/libcam/Makefile |    3 +--
 lib/libcam/camlib.c |    1 +
 lib/libcam/camlib.h |    9 +++------
 3 files changed, 5 insertions(+), 8 deletions(-)

--- a/lib/libcam/Makefile
+++ b/lib/libcam/Makefile
@@ -6,8 +6,7 @@ SRCS=		camlib.c scsi_cmdparse.c scsi_all
 		ata_all.c
 INCS=		camlib.h
 
-DPADD=		${LIBSBUF}
-LDADD=		-lsbuf
+LDADD=		-L../libsbuf/ -lsbuf -lbsd
 
 MAN=		cam.3 cam_cdbparse.3
 
--- a/lib/libcam/camlib.h
+++ b/lib/libcam/camlib.h
@@ -150,13 +150,11 @@ int			cam_get_device(const char *path, c
 /*
  * Buffer encoding/decoding routines, from the old SCSI library.
  */
-int csio_decode(struct ccb_scsiio *csio, const char *fmt, ...)
-		__printflike(2, 3);
+int csio_decode(struct ccb_scsiio *csio, const char *fmt, ...);
 int csio_decode_visit(struct ccb_scsiio *csio, const char *fmt,
 		      void (*arg_put)(void *, int, void *, int, char *),
 		      void *puthook);
-int buff_decode(u_int8_t *buff, size_t len, const char *fmt, ...)
-		__printflike(3, 4);
+int buff_decode(u_int8_t *buff, size_t len, const char *fmt, ...);
 int buff_decode_visit(u_int8_t *buff, size_t len, const char *fmt,
 		      void (*arg_put)(void *, int, void *, int, char *),
 		      void *puthook);
@@ -168,8 +166,7 @@ int csio_build_visit(struct ccb_scsiio *
 		     int timeout, const char *cmd_spec,
 		     int (*arg_get)(void *hook, char *field_name),
 		     void *gethook);
-int csio_encode(struct ccb_scsiio *csio, const char *fmt, ...)
-		__printflike(2, 3);
+int csio_encode(struct ccb_scsiio *csio, const char *fmt, ...);
 int buff_encode_visit(u_int8_t *buff, size_t len, const char *fmt,
 		      int (*arg_get)(void *hook, char *field_name),
 		      void *gethook);
