--- a/lib/libkvm/kvm_minidump_amd64.c
+++ b/lib/libkvm/kvm_minidump_amd64.c
@@ -100,15 +100,6 @@
 	return (-1);
 }
 
-__inline__ u_long
-bsfq(u_long mask)
-{
-	u_long  result;
-
-	__asm __volatile("bsfq %1,%0" : "=r" (result) : "rm" (mask));
-	return (result);
-}
-
 static int
 inithash(kvm_t *kd, uint64_t *base, int len, off_t off)
 {
