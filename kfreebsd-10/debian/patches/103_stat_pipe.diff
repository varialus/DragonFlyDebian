--- a/sys/kern/sys_pipe.c
+++ b/sys/kern/sys_pipe.c
@@ -1399,6 +1399,8 @@
 	struct thread *td;
 {
 	struct pipe *pipe = fp->f_data;
+	unsigned long hash;
+	
 #ifdef MAC
 	int error;
 
@@ -1426,6 +1428,8 @@
 	/*
 	 * Left as 0: st_nlink, st_rdev, st_flags, st_gen.
 	 */
+	hash = (unsigned long) (pipe->pipe_pair);
+	ub->st_ino = (((hash >> 31) ^ hash) & 0x7FFFFFFF); 
 	return (0);
 }
 
