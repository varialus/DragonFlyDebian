
 disable ssp for now ...
 at least under QEMU it panics, might be due to 
   - QEMU
   - newer gcc compared to plain FreeBSD
   - different init order 
   - ...

--- a/sys/conf/kern.mk
+++ b/sys/conf/kern.mk
@@ -132,6 +132,8 @@
 #
 # GCC SSP support
 #
+# Disable stack protector as it causes kernel panic
+MK_SSP=                no
 .if ${MK_SSP} != "no" && ${MACHINE_CPUARCH} != "ia64" && \
     ${MACHINE_CPUARCH} != "arm" && ${MACHINE_CPUARCH} != "mips"
 CFLAGS+=	-fstack-protector
--- a/sys/conf/kmod.mk
+++ b/sys/conf/kmod.mk
@@ -144,6 +144,9 @@
 CTFFLAGS+=	-g
 .endif
 
+# Disable stack protector as it causes kernel panic
+MK_SSP=		no
+
 .if defined(FIRMWS)
 .if !exists(@)
 ${KMOD:S/$/.c/}: @
