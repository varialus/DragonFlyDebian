diff -ur sys.old/cam/scsi/scsi_all.h sys/cam/scsi/scsi_all.h
--- sys.old/cam/scsi/scsi_all.h	2005-08-17 16:33:28.000000000 +0200
+++ sys/cam/scsi/scsi_all.h	2005-08-22 23:13:47.000000000 +0200
@@ -25,6 +25,7 @@
 #define _SCSI_SCSI_ALL_H 1
 
 #include <sys/cdefs.h>
+#include <stdint.h>
 
 #ifdef _KERNEL
 /*
diff -ur sys.old/i386/include/md_var.h sys/i386/include/md_var.h
--- sys.old/i386/include/md_var.h	2005-08-17 16:32:52.000000000 +0200
+++ sys/i386/include/md_var.h	2005-08-22 23:13:47.000000000 +0200
@@ -32,6 +32,9 @@
 #ifndef _MACHINE_MD_VAR_H_
 #define	_MACHINE_MD_VAR_H_
 
+#include <machine/_types.h>
+typedef __vm_paddr_t vm_paddr_t;
+
 /*
  * Miscellaneous machine-dependent declarations.
  */
diff -ur sys.old/amd64/include/md_var.h sys/amd64/include/md_var.h
--- sys/amd64/include/md_var.h.old	2006-03-29 19:51:08.000000000 +0200
+++ sys/amd64/include/md_var.h	2006-03-29 19:51:13.000000000 +0200
@@ -32,6 +32,9 @@
 #ifndef _MACHINE_MD_VAR_H_
 #define	_MACHINE_MD_VAR_H_
 
+#include <machine/_types.h>
+typedef __vm_paddr_t vm_paddr_t;
+
 /*
  * Miscellaneous machine-dependent declarations.
  */
@@ -55,7 +55,9 @@
 extern	char	sigcode[];
 extern	int	szsigcode;
 
+#ifdef _KERNEL
 extern	struct pcpu __pcpu[];
+#endif
 
 typedef void alias_for_inthand_t(u_int cs, u_int ef, u_int esp, u_int ss);
 struct	thread;
diff -ur sys.old/sys/_mutex.h sys/sys/_mutex.h
--- sys.old/sys/_mutex.h	2005-08-17 16:32:18.000000000 +0200
+++ sys/sys/_mutex.h	2005-08-22 23:13:47.000000000 +0200
@@ -31,6 +31,8 @@
 #ifndef _SYS__MUTEX_H_
 #define	_SYS__MUTEX_H_
 
+#include <stdint.h>
+
 /*
  * Sleep/spin mutex.
  */
diff -ur sys.old/sys/_timeval.h sys/sys/_timeval.h
--- sys.old/sys/_timeval.h	2005-08-17 16:32:17.000000000 +0200
+++ sys/sys/_timeval.h	2005-08-22 23:13:47.000000000 +0200
@@ -41,12 +41,6 @@
 #define	_TIME_T_DECLARED
 #endif
 
-/*
- * Structure returned by gettimeofday(2) system call, and used in other calls.
- */
-struct timeval {
-	long		tv_sec;		/* seconds (XXX should be time_t) */
-	suseconds_t	tv_usec;	/* and microseconds */
-};
+#include <sys/time.h>
 
 #endif /* !_SYS__TIMEVAL_H_ */
diff -ur sys.old/sys/bio.h sys/sys/bio.h
--- sys.old/sys/bio.h	2005-08-17 16:32:17.000000000 +0200
+++ sys/sys/bio.h	2005-08-22 23:13:48.000000000 +0200
@@ -39,6 +39,15 @@
 #define	_SYS_BIO_H_
 
 #include <sys/queue.h>
+#include <stdint.h>
+/* FIXME: this struct is copied from BSDish sys/time.h.  It should be somewhere else. (maybe Glibc?) */ 
+#ifndef bintime 
+#define bintime bintime 
+struct bintime { 
+        time_t  sec; 
+        uint64_t frac; 
+}; 
+#endif 
 
 struct disk;
 struct bio;
diff -ur sys.old/sys/devicestat.h sys/sys/devicestat.h
--- sys.old/sys/devicestat.h	2005-08-17 16:32:17.000000000 +0200
+++ sys/sys/devicestat.h	2005-08-22 23:13:48.000000000 +0200
@@ -32,7 +32,15 @@
 #define _DEVICESTAT_H
 
 #include <sys/queue.h>
-#include <sys/time.h>
+/* FIXME: this struct is copied from BSDish sys/time.h.  It should be somewhere else. (maybe Glibc?) */
+#include <stdint.h>
+#ifndef bintime
+#define bintime bintime
+struct bintime {
+	time_t  sec;
+	uint64_t frac;
+};
+#endif
 
 /*
  * XXX: Should really be SPECNAMELEN
diff -ur sys.old/sys/sbuf.h sys/sys/sbuf.h
--- sys.old/sys/sbuf.h	2005-08-17 16:32:16.000000000 +0200
+++ sys/sys/sbuf.h	2005-08-22 23:13:47.000000000 +0200
@@ -62,8 +62,8 @@
 int		 sbuf_bcpy(struct sbuf *, const void *, size_t);
 int		 sbuf_cat(struct sbuf *, const char *);
 int		 sbuf_cpy(struct sbuf *, const char *);
-int		 sbuf_printf(struct sbuf *, const char *, ...) __printflike(2, 3);
-int		 sbuf_vprintf(struct sbuf *, const char *, __va_list) __printflike(2, 0);
+int		 sbuf_printf(struct sbuf *, const char *, ...);
+int		 sbuf_vprintf(struct sbuf *, const char *, __va_list);
 int		 sbuf_putc(struct sbuf *, int);
 int		 sbuf_trim(struct sbuf *);
 int		 sbuf_overflowed(struct sbuf *);
diff -ur sys.old/sys/time.h sys/sys/time.h
--- sys.old/sys/time.h	2005-08-17 16:32:16.000000000 +0200
+++ sys/sys/time.h	2005-08-22 23:13:48.000000000 +0200
@@ -33,14 +33,10 @@
 #ifndef _SYS_TIME_H_
 #define _SYS_TIME_H_
 
-#include <sys/_timeval.h>
 #include <sys/types.h>
-#include <sys/timespec.h>
+#include <sys/time.h>
+#include <stdint.h>
 
-struct timezone {
-	int	tz_minuteswest;	/* minutes west of Greenwich */
-	int	tz_dsttime;	/* type of dst correction */
-};
 #define	DST_NONE	0	/* not on dst */
 #define	DST_USA		1	/* USA style dst */
 #define	DST_AUST	2	/* Australian style dst */
@@ -49,7 +45,6 @@
 #define	DST_EET		5	/* Eastern European dst */
 #define	DST_CAN		6	/* Canada */
 
-#if __BSD_VISIBLE
 struct bintime {
 	time_t	sec;
 	uint64_t frac;
@@ -137,7 +132,6 @@
 	/* 18446744073709 = int(2^64 / 1000000) */
 	bt->frac = tv->tv_usec * (uint64_t)18446744073709LL;
 }
-#endif /* __BSD_VISIBLE */
 
 #ifdef _KERNEL
 
@@ -216,11 +210,6 @@
 #define	ITIMER_VIRTUAL	1
 #define	ITIMER_PROF	2
 
-struct itimerval {
-	struct	timeval it_interval;	/* timer interval */
-	struct	timeval it_value;	/* current value */
-};
-
 /*
  * Getkerninfo clock information structure
  */
diff -ur sys.old/sys/timespec.h sys/sys/timespec.h
--- sys.old/sys/timespec.h	2005-08-17 16:32:16.000000000 +0200
+++ sys/sys/timespec.h	2005-08-22 23:13:48.000000000 +0200
@@ -43,10 +43,7 @@
 #define	_TIME_T_DECLARED
 #endif
 
-struct timespec {
-	time_t	tv_sec;		/* seconds */
-	long	tv_nsec;	/* and nanoseconds */
-};
+#include <sys/time.h>
 
 #if __BSD_VISIBLE
 #define	TIMEVAL_TO_TIMESPEC(tv, ts)					\
diff -ur sys.old/vm/vm.h sys/vm/vm.h
--- sys.old/vm/vm.h	2005-08-22 23:11:05.000000000 +0200
+++ sys/vm/vm.h	2005-08-22 23:13:48.000000000 +0200
@@ -62,6 +62,8 @@
 #define VM_H
 
 #include <sys/types.h>
+#include <machine/_types.h>
+typedef __vm_offset_t vm_offset_t;
 
 typedef char vm_inherit_t;	/* inheritance codes */
 
--- sys/amd64/include/fpu.h~	2006-03-01 20:30:51.000000000 +0100
+++ sys/amd64/include/fpu.h	2006-03-29 20:27:45.000000000 +0200
@@ -71,7 +71,7 @@
 	} sv_fp[8];
 	struct xmmacc	sv_xmm[16];
 	u_char sv_pad[96];
-} __aligned(16);
+};
 
 /*
  * The hardware default control word for i387's and later coprocessors is
