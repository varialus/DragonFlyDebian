TODO:

* glibc segfault condition in:

#0  0x00000008006f9610 in pipe () at regex_internal.c:118
118             build_upper_buffer (pstr);

(affects tar, fixincl, probably make too)

* glibc testsuite failures:

[csu/tst-empty.out] Error 139
[catgets/de/libc.cat] Error 1
[catgets/test1.cat] Error 1
[catgets/test-gencat.out] Error 1
[stdlib/tst-strtod.out] Error 1
[stdlib/testmb2.out] Error 1
[stdio-common/test-popen.out] Error 138
[stdio-common/xbug.out] Error 138
[stdio-common/errnobug.out] Error 138
[stdio-common/tst-swprintf.out] Error 1
[stdio-common/bug14.out] Error 1
[stdio-common/tst-popen.out] Error 1
[libio/tst-widetext.out] Error 1
[libio/tst-ungetwc2.out] Error 1
[libio/tst-swscanf.out] Error 1
[libio/bug-ungetwc2.out] Error 1
[libio/bug-rewind.o] Error 1
[libio/bug-rewind2.o] Error 1
[libio/bug-ungetc.o] Error 1
[libio/bug-ftell.out] Error 1
[dlfcn/tststatic.out] Error 139
[dlfcn/tststatic2.out] Error 139
[string/tst-strxfrm.out] Error 1
[wcsmbs/tst-btowc.out] Error 1
[wcsmbs/tst-mbrtowc.out] Error 1
[time/tst-strptime.out] Error 1
[time/tst-ftime_l.out] Error 1
[posix/tst-fnmatch.out] Error 1
[posix/tst-regexloc.out] Error 1
[posix/tst-regex.out] Error 1
[posix/bug-regex5.out] Error 1
[posix/bug-regex6.out] Error 1
[posix/bug-regex17.out] Error 1
[posix/bug-regex18.out] Error 1
[posix/bug-regex19.out] Error 1
[posix/bug-regex20.out] Error 1
[posix/bug-regex22.out] Error 1
[posix/tst-rxspencer.out] Error 1
[posix/tst-vfork1.out] Error 1
[posix/tst-vfork2.out] Error 1
[posix/tst-waitid.out] Error 1 (already known, see NOTES)
[posix/wordexp-test.out] Error 139


* decide ld.so location
	It should be unique between all (at least Debian) ports,
	namely not the same as on kfreebsd-i386 (/lib/ld.so.1).
	See also http://www.linuxbase.org/futures/ideas/multiarch/index.html

	Result: /lib/ld-kfreebsd-x86-64.so.1


* toolchain (gcc, binutils) support
	Write config bits for proper
	ld.so location:		/lib/ld.so.1	/lib/ld-kfreebsd-x86-64.so.1
	emulation:		elf_i386_fbsd	elf_x86_64_fbsd
	...

	Ideally, we should support gcc in variants
	        cross
        	biarch on i386 
	        native on amd64
	        biarch on amd64

* biarch capable kfreebsd-kernel-headers
	similarly to linux-kernel-headers,
	all files in /usr/include/machine should be autogenerated in form
        on kfreebsd-i386
		#ifdef __x86_64__
		# include <amd64/param.h>
		#else
		# include <i386/param.h>
		#endif
	on kfreebsd-amd64
		#ifdef __i386__
		# include <i386/param.h>
		#else
		# include <amd64/param.h>
		#endif

	the first step is to provide content of dir amd64,
	it would be sufficient for test builds of glibc


* prepare kernel

* buildd machine
* buildd admin

* porting machine
* porting machine admin


binutils:
---------
See web/patches/binutils_elfosabi.diff

for biarch simply add to debian/rules:
	ifeq ($(DEB_HOST_ARCH),kfreebsd-i386)
        	CONFARGS += --enable-targets=x86_64-kfreebsd-gnu
	endif

gcc-x.y:
--------

See web/patches/gcc_amd64.diff
