
 disable ssp for now ...
 at least under QEMU it panics, might be due to 
   - QEMU
   - newer gcc compared to plain FreeBSD
   - different init order 
   - ...

---
 sys/conf/kmod.mk |    3 +++
 1 file changed, 3 insertions(+)

--- a/sys/conf/kmod.mk
+++ b/sys/conf/kmod.mk
@@ -129,6 +129,9 @@ CFLAGS+=	-fno-omit-frame-pointer
 CFLAGS+=	-mlongcall -fno-omit-frame-pointer
 .endif
 
+# Disable stack protector as it causes kernel panic
+MK_SSP=		no
+
 .if defined(FIRMWS)
 .if !exists(@)
 ${KMOD:S/$/.c/}: @
