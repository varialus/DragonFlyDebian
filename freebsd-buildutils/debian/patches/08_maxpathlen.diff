---
 src/usr.bin/make/arch.c          |    4 ++++
 src/usr.bin/make/main.c          |    3 +++
 src/usr.sbin/config/main.c       |    4 ++++
 src/usr.sbin/config/mkmakefile.c |    4 ++++
 src/usr.sbin/config/mkoptions.c  |    4 ++++
 src/usr.sbin/mtree/create.c      |    4 ++++
 src/usr.sbin/mtree/extern.h      |    5 +++--
 7 files changed, 26 insertions(+), 2 deletions(-)

--- a/src/usr.bin/make/arch.c
+++ b/src/usr.bin/make/arch.c
@@ -192,6 +192,10 @@ Boolean arch_fatal = TRUE;
 		Error ARGS;					\
     } while (0)
 
+#ifndef MAXPATHLEN
+#  define MAXPATHLEN 4096
+#endif
+
 /*-
  *-----------------------------------------------------------------------
  * Arch_ParseArchive --
--- a/src/usr.bin/make/main.c
+++ b/src/usr.bin/make/main.c
@@ -249,6 +249,9 @@ ReadMakefile(const char p[])
 {
 	char *fname, *fnamesave;	/* makefile to read */
 	FILE *stream;
+#ifndef MAXPATHLEN
+# define MAXPATHLEN 4096
+#endif
 	char *name, path[MAXPATHLEN];
 	char *MAKEFILE;
 	int setMAKEFILE;
--- a/src/usr.sbin/config/main.c
+++ b/src/usr.sbin/config/main.c
@@ -71,6 +71,10 @@ static const char rcsid[] =
 #define FALSE	(0)
 #endif
 
+#ifndef MAXPATHLEN
+#  define MAXPATHLEN 4096
+#endif
+  
 #define	CDIR	"../compile/"
 
 char *	PREFIX;
--- a/src/usr.sbin/config/mkmakefile.c
+++ b/src/usr.sbin/config/mkmakefile.c
@@ -65,6 +65,10 @@ static const char rcsid[] =
 		wd = word; \
 	}
 
+#ifndef MAXPATHLEN
+#  define MAXPATHLEN 4096
+#endif
+  
 static char *tail(char *);
 static void do_clean(FILE *);
 static void do_rules(FILE *);
--- a/src/usr.sbin/config/mkoptions.c
+++ b/src/usr.sbin/config/mkoptions.c
@@ -49,6 +49,10 @@ static const char rcsid[] =
 #include "config.h"
 #include "y.tab.h"
 
+#ifndef MAXPATHLEN
+#  define MAXPATHLEN 4096
+#endif
+  
 static	struct users {
 	int	u_default;
 	int	u_min;
--- a/src/usr.sbin/mtree/create.c
+++ b/src/usr.sbin/mtree/create.c
@@ -67,6 +67,10 @@ __FBSDID("$FreeBSD$");
 #define	INDENTNAMELEN	15
 #define	MAXLINELEN	80
 
+#ifndef MAXHOSTNAMELEN
+#  define MAXHOSTNAMELEN 255
+#endif
+
 static gid_t gid;
 static uid_t uid;
 static mode_t mode;
--- a/src/usr.sbin/mtree/extern.h
+++ b/src/usr.sbin/mtree/extern.h
@@ -57,6 +57,7 @@ extern int ftsoptions;
 extern u_int keys;
 extern int lineno;
 extern int dflag, eflag, iflag, nflag, qflag, rflag, sflag, uflag, wflag;
-#ifdef MAXPATHLEN
-extern char fullpath[MAXPATHLEN];
+#ifndef MAXPATHLEN
+#  define MAXPATHLEN 4096
 #endif
+extern char fullpath[MAXPATHLEN];
