Author: aurel32
Status: in BTS

diff -u rio-1.07/rio.cpp rio-1.07/rio.cpp
--- rio-1.07/rio.cpp
+++ rio-1.07/rio.cpp
@@ -88,7 +88,7 @@
 	#define		CLOCK_SECOND			CLOCKS_PER_SEC
 	#define		DELETEARRAY				delete[]
 
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__FreeBSD_kernel__)
 	// FreeBSD g++
 	#include	<fcntl.h>
 	#include	<unistd.h>
diff -u rio-1.07/debian/control rio-1.07/debian/control
--- rio-1.07/debian/control
+++ rio-1.07/debian/control
@@ -6,7 +6,7 @@
 Standards-Version: 3.5.8.0
 
 Package: rio
-Architecture: i386 alpha
+Architecture: i386 kfreebsd-i386 alpha
 Depends: ${shlibs:Depends}
 Suggests: menu (>= 1.5)
 Description: A command line Diamond Rio MP3 player controller
--- rio-1.07.orig/app.cpp
+++ rio-1.07/app.cpp
@@ -43,7 +43,7 @@
 	#endif
 	#define		DELETEARRAY				delete[]
 
-#elif defined(__FreeBSD__)
+#elif defined(__FreeBSD__) || defined(__FreeBSD_kernel__)
 	// FreeBSD g++
 	#include	<unistd.h>
 	#include	<sys/syslimits.h>
