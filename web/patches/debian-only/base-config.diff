
Author: rmh
Status: in BTS

diff -ur base-config-2.69.old/debian/control base-config-2.69/debian/control
--- base-config-2.69.old/debian/control	2005-06-30 20:14:59.000000000 +0200
+++ base-config-2.69/debian/control	2005-07-25 22:16:34.000000000 +0200
@@ -8,7 +8,7 @@
 
 Package: base-config
 Architecture: all
-Depends: debconf (>= 1.3.22), apt, adduser, console-data (>= 2002.12.04dbs-16), console-tools, passwd (>= 20000902-6), bsdutils (>= 1:2.11l), debianutils (>= 1.6), gettext-base
+Depends: ${console}, debconf (>= 1.3.22), apt, adduser, passwd (>= 20000902-6), bsdutils (>= 1:2.11l), debianutils (>= 1.6), gettext-base
 Conflicts: tasksel (<< 2.25)
 Description: Debian base system configurator
  This package handles setting up the Debian base system. It contains the
diff -ur base-config-2.69.old/debian/rules base-config-2.69/debian/rules
--- base-config-2.69.old/debian/rules	2005-06-09 04:25:10.000000000 +0200
+++ base-config-2.69/debian/rules	2005-07-25 22:18:14.000000000 +0200
@@ -4,6 +4,11 @@
 	co -p webwml/english/mirror/Mirrors.masterlist
 MASTERLIST=Mirrors.masterlist
 
+DEB_HOST_ARCH_OS ?= $(shell dpkg-architecture -qDEB_HOST_ARCH_OS)
+ifeq ($(DEB_HOST_ARCH_OS), linux)
+CONSOLE_DEPENDS	= -Vconsole="console-data (>= 2002.12.04dbs-16), console-tools"
+endif
+
 build:
 ifdef CVSGET
 	# Freshen Mirrors.masterlist file, but allow failure.
@@ -62,7 +67,7 @@
 	dh_compress
 	dh_fixperms
 	dh_installdeb
-	dh_gencontrol
+	dh_gencontrol -- $(CONSOLE_DEPENDS)
 	dh_md5sums
 	dh_builddeb
 
