
Status: in BTS (the clean parts only)

Index: installer/debian/control
===================================================================
--- installer/debian/control	(revision 36546)
+++ installer/debian/control	(working copy)
@@ -6,7 +6,7 @@
 Standards-Version: 3.6.2
 Build-Conflicts: libnewt-pic [mipsel]
 # NOTE: Do not edit the next line by hand. See comment below.
-Build-Depends: debhelper (>= 4), apt, apt-utils, gnupg, debian-archive-keyring, dpkg (>= 1.13.9), grep-dctrl, bc, debiandoc-sgml, libbogl-dev, glibc-pic, libparted1.6-13, libslang2-pic, libnewt-pic [!mipsel], libnewt-dev [mipsel], libtextwrap1, libvolume-id0, cramfsprogs [powerpc ia64 mips mipsel arm armeb], genext2fs (>= 1.3-7.1), e2fsprogs, mklibs (>= 0.1.15), mkisofs, genromfs [sparc], hfsutils [powerpc], dosfstools [i386 ia64 m68k amd64], cpio, devio [arm armeb], syslinux (>= 2.11-0.1) [i386 amd64], palo [hppa], elilo [ia64], yaboot [powerpc], aboot (>= 0.9b-2) [alpha], silo [sparc], sparc-utils [sparc], genisovh [mips], delo [mipsel], tip22 [mips], colo (>= 1.21-1) [mipsel], sibyl [mips mipsel], atari-bootstrap [m68k], vmelilo [m68k], m68k-vme-tftplilo [m68k], amiboot [m68k], tofrodos [i386 amd64], mtools (>= 3.9.9-1) [i386 ia64 m68k amd64], modutils [arm i386 mips mipsel powerpc s390 sparc], module-init-tools [i386 powerpc amd64 alpha hppa ia64 sparc mips mipsel arm armeb], bf-utf-source [!s390 !s390x], upx-ucl-beta (>= 1:1.91+0.20030910cvs-2) [i386], mkvmlinuz [powerpc]
+Build-Depends: debhelper (>= 4), apt, apt-utils, gnupg, debian-archive-keyring, dpkg (>= 1.13.9), grep-dctrl, bc, debiandoc-sgml, libbogl-dev [!kfreebsd-i386 !kfreebsd-amd64 !hurd-i386], glibc-pic, libparted1.6-13, libslang2-pic, libnewt-pic [!mipsel], libnewt-dev [mipsel], libtextwrap1, libvolume-id0 [!kfreebsd-i386 !kfreebsd-amd64 !hurd-i386], cramfsprogs [powerpc ia64 mips mipsel arm armeb], genext2fs (>= 1.3-7.1), e2fsprogs, mklibs (>= 0.1.15), mkisofs, genromfs [sparc], hfsutils [powerpc], dosfstools [i386 ia64 m68k amd64], cpio, devio [arm armeb], syslinux (>= 2.11-0.1) [i386 amd64], palo [hppa], elilo [ia64], yaboot [powerpc], aboot (>= 0.9b-2) [alpha], silo [sparc], sparc-utils [sparc], genisovh [mips], delo [mipsel], tip22 [mips], colo (>= 1.21-1) [mipsel], sibyl [mips mipsel], atari-bootstrap [m68k], vmelilo [m68k], m68k-vme-tftplilo [m68k], amiboot [m68k], tofrodos [i386 kfreebsd-i386 amd64 kfreebsd-amd64], mtools (>= 3.9.9-1) [i386 kfreebsd-i386 ia64 m68k amd64 kfreebsd-amd64], modutils [arm i386 mips mipsel powerpc s390 sparc], module-init-tools [i386 powerpc amd64 alpha hppa ia64 sparc mips mipsel arm armeb], bf-utf-source [!s390 !s390x], upx-ucl-beta (>= 1:1.91+0.20030910cvs-2) [i386], mkvmlinuz [powerpc]
 # This package has the worst Build-Depends in Debian, so it deserves some
 # explanation. Note that this comment can also be used to generate a
 # Build-Depends line, by running the debian/genbuilddeps program.
Index: packages/arch/i386/grub-installer/debian/control
===================================================================
--- packages/arch/i386/grub-installer/debian/control	(revision 36546)
+++ packages/arch/i386/grub-installer/debian/control	(working copy)
@@ -7,7 +7,7 @@
 Standards-Version: 3.6.1
 
 Package: grub-installer
-Architecture: i386 hurd-i386 amd64
+Architecture: i386 hurd-i386 kfreebsd-i386 amd64 kfreebsd-amd64
 Provides: bootable-system
 Depends: cdebconf-udeb, kernel-installer, created-fstab, di-utils (>= 1.15), di-utils-mapdevfs, os-prober, ${dmidecode}
 XB-Installer-Menu-Item: 73
Index: packages/rootskel-gtk/debian/control
===================================================================
--- packages/rootskel-gtk/debian/control	(revision 36546)
+++ packages/rootskel-gtk/debian/control	(working copy)
@@ -7,6 +7,6 @@
 
 Package: rootskel-gtk
 XC-Package-Type: udeb
-Architecture: alpha amd64 arm hppa i386 ia64 mips mipsel powerpc sparc
+Architecture: alpha amd64 kfreebsd-amd64 arm hppa i386 kfreebsd-i386 ia64 mips mipsel powerpc sparc
 Depends: rootskel, mouse-modules
 Description: Additions for graphical installation to skeleton root filesystem used by debian-installer
Index: packages/clock-setup/debian/control
===================================================================
--- packages/clock-setup/debian/control	(revision 36546)
+++ packages/clock-setup/debian/control	(working copy)
@@ -7,7 +7,7 @@
 Standards-Version: 3.6.2
 
 Package: clock-setup
-Architecture: alpha amd64 arm armeb hppa i386 ia64 m68k mips mipsel powerpc sparc kfreebsd-i386
+Architecture: alpha amd64 arm armeb hppa i386 ia64 m68k mips mipsel powerpc sparc kfreebsd-i386 kfreebsd-amd64
 Depends: os-prober, tzsetup-udeb, mounted-partitions
 XC-Package-Type: udeb
 XB-Installer-Menu-Item: 62
Index: installer/build/pkg-lists/kernel
===================================================================
--- installer/build/pkg-lists/kernel	(revision 36546)
+++ installer/build/pkg-lists/kernel	(working copy)
@@ -1,3 +1,3 @@
 # Just the kernel of right version. Included on all images that are
 # bootable.
-kernel-image-${kernel:Version}
+kfreebsd-image-${kernel:Version}
Index: installer/build/pkg-lists/cdrom/common
===================================================================
--- installer/build/pkg-lists/cdrom/common	(revision 36546)
+++ installer/build/pkg-lists/cdrom/common	(working copy)
@@ -9,7 +9,6 @@
 cdrom-retriever
 load-cdrom
 cdrom-checker
-bogl-bterm-udeb
 di-utils-terminfo
 cdebconf-newt-udeb
 usb-discover [2.4]
Index: installer/build/pkg-lists/base
===================================================================
--- installer/build/pkg-lists/base	(revision 36546)
+++ installer/build/pkg-lists/base	(working copy)
@@ -1,6 +1,5 @@
 # These udebs will be needed on nearly every image. Include this file to
 # get them.
-busybox-udeb
 anna
 archdetect
 cdebconf-udeb
Index: installer/build/util/get-packages
===================================================================
--- installer/build/util/get-packages	(revision 36546)
+++ installer/build/util/get-packages	(working copy)
@@ -68,7 +68,7 @@
 
 # All these options make apt read the right sources list, and use APTDIR for
 # everything so it need not run as root.
-APT_GET="apt-get --assume-yes \
+APT_GET="apt-get --assume-yes --force-yes \
 	-o Dir::Etc::sourcelist=`pwd`/$LIST \
 	-o Dir::State=`pwd`/$APTDIR/state \
 	-o Debug::NoLocking=true \
