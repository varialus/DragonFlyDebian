TODO
====

This is the TODO list for GNU/kFreeBSD. If you want to work on any of this,
_please_ send us a mail to ask about it first (glibc-bsd-devel).
It's likely that work is already started and we can give you more details on
the particular issue.

I'd be nice if tasks and subtasks were sorted by priority. It'd be also nice
if all tasks were fixed. We goalt neither of these though :P

 - Glibc
        - Update to the current glibc in sid (2.3.2)
	- Try to port glibc from experimental (2.3.4)
	- Sync with current CVS. (merge into upstream, etc).
	- Update kFreeBSD headers.

 - GCC
        - Update to the current gcc in sid (3.3.6)
	- Enable java
	- Verify that gcc-4.0 is ok (would be the next gcc for post sarge)

 - Xorg / modular X
	- Port whatever that is going to replace Xfree86 4.3 in Debian. AFAIK
	  modular xserver has purged all these kernel-dependant interfaces.
	  It'd help if someone could clarify wether the next leap will be to
	  monolithic Xorg or to the modular experimental branch of Xorg.
	  In case of monolithic Xorg, my Xfree86 4.3 patchset can be reused.

 - Binutils
	- Fixed in upstream. Push upstream fixes into Debian (#248182).
	- The ld.so problem (see #246825) is not fixed in upstream.  We have
	  a patch in the bug that is acceptable for debian, but not for
	  upstream.  Guillem rewrote the patch in a way that upstream likes,
	  but his patch got obsoleted with an upstream update and no longer
	  works.
	- Pass "make check".

 - FreeBSD
	- Merge patches from freebsd-buildutils and kfreebsd6 into upstream.

	- freebsd-utils. This is a hacked package built from staticaly-linked
	  binaries. It'll eventualy be rewriten semi-portably and replaced
	  (mount, ifconfig, etc). This is a long-term transition. For now,
	  I'm preparing a proper package with the same tools ported to Glibc
	  and built from source on gnu environment.

 - libkvm is ported badly.  It still has some dummy stubs that need replacing
   with decent code.

 - GDB is ported in upstream, but it doesn't work properly.  Maybe it will
   work when we fix libkvm.  As a workaround, we use freebsd-gdb package
   instead.

 - GRUB
	- Fix userspace emulator to work on kFreeBSD-based systems.  This
	  is supposedly fixed but I haven't tested it yet (rmh).
	- Fix kfreebsd loader so we can boot directly the kernel and not need
	  the FreeBSD loader.  (The debian package has a patch by Guillem
	  which does this, but doesn't work reliably enough to merge it yet).

 - d-i. Note that Colin Watson has started working on porting d-i to the Hurd

 - xterm is horribly fucked (I use rxvt instead).

 - Package Glibc for the FreeBSD ports collection.

 - type-handling is a way to convert System and CPU combinations into the 
   architecture variable names that dpkg can understand. This system is a bit
   complicated and could be replaced by a sane kernel and cpu split from dpkg.
   Scott James Remnant is working on that. 
   Meanwhile we could try to reduce the number of packages using type-handling.

 - lipthread2 is still used by a lot of packages. They should be rebuilt on a system
   without libpthread2. Note note that we have packages that didn't depend on 
   libpthread2 but still had objects that depended on libpthread2.so.


     Big beasts
     ~~~~~~~~~~

These are presumably somewhere in the libc implementation and are the most
hard to debug from this list.

Look at the bugs/ directory for test cases.  Good luck!
