<html>
<head>
<title>Installing Debian GNU/kFreeBSD - Installing</title>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000ff" alink="#0000ff" vlink="#880088">
<center>
<table width="70%" border=0 cellpadding="0" cellspacing="0">
<tr>
<th colspan="3" align="center"><h4>Installing Debian GNU/kFreeBSD</h4></th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="sysreq.html">Prev</a></td>

<td width="80%" align="center" valign="bottom">Installing</td>

<td width="10%" align="right" valign="bottom"><a href="post.html">Next</a></td>
</tr>
</table>

<hr align="center" width="70%">

<table width="70%" border="0" cellpadding="0" cellspacing="0">

<tr>
<th colspan="3" align="left"><a name="pre"></a><font color="#990000"><h3>Pre-installation notes</h3></font></th>
</tr>

<tr>
<td width="70%" align="left">
<p><b>Important</b> - Make sure you've read <a href="sysreq.html#media">"Installation media"</a> before you continue. 
It contains important information.

</p>
</td>
</tr>

<tr>
<th colspan="3" align="left">
<a name="base-freebsd"></a><font color="#990000"><h3>Installing with a FreeBSD CD</h3></font></th>
</tr>

<tr>
<td width="70%" align="left">
<p>
This method involves booting from the FreeBSD CD, inserting the GNU/kFreeBSD live CD and installing 
a base system. The reason this is possible is because the FreeBSD installer recognizes the live CD as a 
legacy FreeBSD disc (pre 2.1.5). So, you will need a copy of the FreeBSD CD and a copy of the live CD.

<p>Insert the FreeBSD installation CD and boot your computer from it.</p>

<p>Once the CD is finished booting, you should be presented with an installation menu.</p>

<p>Select <font color="#461b7e"><b><i>"Standard - Begin a standard installation"</i></b></font>.</p>

<p>You will now be asked to create your partitions.</p>
<p>In the past, you could only install on to a single / partition. This no longer applies. 
However, if you decide to use multiple partitions for /usr, /home etc., they will not be added 
to /etc/fstab automatically. You will have to add them manually.</p>

<p>A simple / partition and swap is fine.</p>

<p>For more information on partitioning with FreeBSD, see <a href="http://www.freebsd.org/handbook/install-steps.html">this</a>
 page of the FreeBSD handbook.</p>


<p>After you've finished creating the necessary partitions, you will be asked to install a boot manager.
<br>Since you're going to be using GRUB as your boot loader,</p>

<p>Select <font color="#461b7e"><b><i>"None - Leave the master boot record untouched"</i></b></font>.</p>

<p>When you are at the <font color="#461b7e"><b><i>"Choose distributions"</i></b></font> 
screen, select <font color="#461b7e"><b><i>"Minimal"</i></b></font>.
<br>It is important that you select the minimal option. The live CD only contains a minimal installation, 
and if you want to install more software you can use the Debian tools later to do so.</p>

<p>The <font color="#461b7e"><b><i>"Choose installation media"</i></b></font> section is next.
<br>Now it's time to switch CD's. Remove the FreeBSD CD from your computer and insert the GNU/kFreeBSD 
live CD.</p>
<p>Select <font color="#461b7e"><b><i>"CD/DVD - Install from a FreeBSD CD/DVD"</i></b></font>.</p>

<p>The base system will now be installed. 
<br>If you are presented with a warning about the current disc not being a FreeBSD CD, 
just ignore it and answer <i>Yes</i>.</p>

<p>Once the base system is extracted, you will be asked some questions related to the configuration of 
your system. Answer <b>no</b> to all of these questions.</p>

<p>When you're done installing the base system, you can reboot in to your new GNU/kFreeBSD system, 
where you'll be in single user mode. See <a href="installing.html#grub">"Boot loader"</a> for 
information on how to boot your new system with GRUB. Now all the base packages need to be installed and configured.</p>

<p><font color="#461b7e" size=-1><b># /native-install</b></font></p>

<p>This might take a while on slower machines.
<br>Once native-install is finished, you'll need to reboot again. After that, you should have a 
functioning Debian GNU/kFreeBSD system.
</p>

</p>
</td>
</tr>

<tr>
<th colspan="3" align="left">
<a name="base-live"></a><font color="#990000"><h3>Installing with the live CD</h3></font></th>
</tr>

<tr>
<td width="70%" align="left">
<p>Once you've finished setting up your partitions, boot the Debian GNU/kFreeBSD live CD.</p>

<p>When the live CD is finished booting, you should be presented with a root shell.
<br>Now we can create our filesystem and mount it.
</p>

<p><font color="#461b7e" size=-1><b># mkfs.ufs -O 2 -U /dev/adXsYa</b></font></p>
<p><font color="#461b7e" size=-1><b># mount /dev/adXsYa /mnt</b></font></p>

<p>X is disk, Y is partition. Example: /dev/ad0s1a. This would be the first partition on the system's first disk. 0 is the disk, 1 is the slice and a is the partition.</p>

<p>Now extract the base tarball.</p>

<p><font color="#461b7e" size=-1><b># tar -C /mnt --same-owner -xzpf /root/base.tgz</b></font></p>

<p>Chroot in to the extracted system.</p>

<p><font color="#461b7e" size=-1><b># chroot /mnt</b></font></p>

<p>Now all the base packages need to be installed and configured.</p>

<p><font color="#461b7e" size=-1><b># /native-install</b></font></p>

<p>This might take a while on slower machines.</p>

<p>Exit the chroot and edit /mnt/etc/fstab with nano to match your system's configuration.</p>

<p>Now unmount everything and reboot.</p>

<p><font color="#461b7e" size=-1><b># umount /mnt/dev</b></font></p>

<p><font color="#461b7e" size=-1><b># umount /mnt</b></font></p>

<p><font color="#461b7e" size=-1><b># reboot</b></font></p>

</td>
</tr>

<tr>
<th colspan="3" align="left">
<a name="grub"></a><font color="#990000"><h3>Boot loader</h3></font>
</th>
</tr>

<tr>
<td width="70%" align="left">
<p>If you use GRUB as your bootloader, the following configuration can be used to boot Debian GNU/kFreeBSD.

<p><font color="#461b7e" size=-1><b>
title Debian GNU/kFreeBSD
<br>root (device)
<br>kernel /boot/loader
</b></font>
</p>

<p>If you installed your system on /dev/ad0s1a (the systems first partition/slice), 
(device) would be (hd0,0,a).</p>

</p>
</td>
</tr>

</table>

<p></p><br>

<hr align="center" width="70%">
<table width="70%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="10%" align="left" valign="top"><a href="sysreq.html">Prev</a></td>
<td width="80%" align="center" valign="top"><a href="index.html">Home</a></td>
<td width="10%" align="right" valign="top"><a href="post.html">Next</a></td>
</tr>

</table>

</body>
</html>