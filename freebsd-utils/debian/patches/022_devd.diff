---
 sbin/devd/Makefile |    2 +-
 sbin/devd/devd.cc  |    2 ++
 sbin/devd/parse.y  |    2 +-
 3 files changed, 4 insertions(+), 2 deletions(-)

--- a/sbin/devd/parse.y
+++ b/sbin/devd/parse.y
@@ -29,9 +29,9 @@
  * $FreeBSD$
  */
 
-#include "devd.h"
 #include <stdio.h>
 #include <string.h>
+#include "devd.h"
 
 %}
 
--- a/sbin/devd/devd.cc
+++ b/sbin/devd/devd.cc
@@ -55,6 +55,8 @@ __FBSDID("$FreeBSD$");
 #include <stdio.h>
 #include <string.h>
 #include <unistd.h>
+#include <bsd/stdlib.h>
+#include <bsd/string.h>
 
 #include <algorithm>
 #include <map>
--- a/sbin/devd/Makefile
+++ b/sbin/devd/Makefile
@@ -10,7 +10,7 @@ WARNS=	0
 NO_SHARED?=YES
 
 DPADD=	${LIBL} ${LIBUTIL}
-LDADD=	-ll -lutil
+LDADD=	-ll -lutil -lbsd
 
 YFLAGS+=-v
 CFLAGS+=-I. -I${.CURDIR}
